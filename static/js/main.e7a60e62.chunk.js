(this.webpackJsonpdivisionteam=this.webpackJsonpdivisionteam||[]).push([[0],{58:function(e,n,t){},59:function(e,n,t){"use strict";t.r(n);var r,c,o,a,i,s,u,l,d,b,f,j=t(0),p=t.n(j),h=t(9),O=t.n(h),x=t(2),g=t(13),m=t(3),v=t(14),I=t(6),w=t.n(I),k=t(8),D=t(17),E=t.n(D),C="https://us-central1-seismic-sweep-318403.cloudfunctions.net",P=function(){var e=Object(k.a)(w.a.mark((function e(n){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(C,"/getUserInfo/fetchUserAccountId?userId=").concat(n));case 2:if(t=e.sent,console.log(t.data),!t){e.next=8;break}return e.abrupt("return",t.data.userAccountId);case 8:throw new Error("Not Exist UserID");case 9:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(w.a.mark((function e(n){var t;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("".concat(C,"/getUserInfo/fetchUserInfo?id=").concat(n));case 2:if(!(t=e.sent)){e.next=7;break}return e.abrupt("return",t.data.userInfo);case 7:throw new Error("Not Exist UserInfo");case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),N={IRON:450,BRONZE:800,SILVER:1150,GOLD:1500,PLATINUM:1850,DIAMOND:2200,MASTER:2250,GRANDMASTER:2250,CHALLENGER:2250},R={IV:0,III:100,II:200,I:300},S=function(e){var n,t,r,c,o;return(n=e.wins,t=e.losses,10*(Math.round(n/(n+t)*100*10)/10-50))+(r=e.rank,c=e.tier,o=e.leaguePoints,N[c]+R[r]+o)},y=t(4),A=t(1),B=y.b.input(r||(r=Object(m.a)(["\n  border: 0;\n"]))),T=y.b.button(c||(c=Object(m.a)(["\n  border: 0;\n  background-color: #BDBDC0;\n  color: #3E3F47;\n\n  &:hover {\n    background-color: #3E3F47;\n    color:  #BDBDC0;\n  }\n"]))),U=function(e){var n=e.match(/([a-z|A-z|0-9|\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3]){1,}(\ub2d8\uc774 \ub85c\ube44\uc5d0 \ucc38\uac00\ud558\uc168\uc2b5\ub2c8\ub2e4.)/g),t=null===n||void 0===n?void 0:n.map((function(e){return e.replace("\ub2d8\uc774 \ub85c\ube44\uc5d0 \ucc38\uac00\ud558\uc168\uc2b5\ub2c8\ub2e4.","")}));return null===n?[e]:void 0!==t?t:[""]},M={tier:"SILVER",rank:"I",wins:1,losses:1,leaguePoints:0},F=Object(x.a)(Object(x.a)({userId:""},M),{},{position:"None",team:0,mmr:S(M)}),J=function(e){return e.map((function(e){if("RANKED_SOLO_5x5"===e.queueType){var n=e.tier,t=e.rank,r=e.wins,c=e.losses,o=e.leaguePoints;return{userId:"",tier:n,rank:t,wins:r,losses:c,leaguePoints:o,team:0,mmr:S({tier:n,rank:t,wins:r,losses:c,leaguePoints:o})}}})).filter((function(e){if(e)return!0}))[0]},z=function(){var e=Object(k.a)(w.a.mark((function e(n,t){var r,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(U(n).map(function(){var e=Object(k.a)(w.a.mark((function e(n){var r,c,o,a,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P(n);case 3:return r=e.sent,c=r.id,o=r.name,e.next=8,L(c);case 8:if(a=e.sent,i=Object(x.a)(Object(x.a)(Object(x.a)({},F),J(a)),{},{userId:o}),0!==t.filter((function(e){if(e.userId===o)return!0})).length){e.next=13;break}return e.abrupt("return",Object(x.a)({},i));case 13:e.next=25;break;case 15:e.prev=15,e.t0=e.catch(0),e.t1=e.t0.message,e.next="Not Exist UserID"===e.t1?20:"Not Exist UserInfo"===e.t1?22:24;break;case 20:return alert("".concat(n,"\ub294 \ucc3e\uc744 \uc218 \uc5c6\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4.")),e.abrupt("break",25);case 22:return alert("".concat(n,"\uc758 \ub7ad\ud06c\uc815\ubcf4\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),e.abrupt("break",25);case 24:alert("".concat(e.t0.message," \uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec"));case 25:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(n){return e.apply(this,arguments)}}()));case 2:return r=e.sent,c=r.filter((function(e){if(e)return!0})),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),H=function(e){var n=e.userInfoList,t=e.setUserInfoList,r=p.a.useState(""),c=Object(g.a)(r,2),o=c[0],a=c[1],i=function(){var e=Object(k.a)(w.a.mark((function e(r){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z(o,n);case 2:c=e.sent,t([].concat(Object(v.a)(c),Object(v.a)(n)));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(B,{type:"text",onChange:function(e){a(e.target.value)}}),Object(A.jsx)(T,{onClick:i,children:"\uac80\uc0c9"})]})},G=function(e,n){var t=e.filter((function(e){return 0===e.team})).sort((function(e,n){return n.mmr-e.mmr})),r=e.filter((function(e){if(1===e.team)return!0})).sort((function(e,n){return n.mmr-e.mmr})),c=e.filter((function(e){if(2===e.team)return!0})).sort((function(e,n){return n.mmr-e.mmr})),o=[];if(c[0]&&o.push(c[0]),r[0]&&o.push(r[0]),t[0]&&o.push.apply(o,Object(v.a)(t)),o.length<2)return!0;var a=o.splice(0,2),i=n&1<<a[0].idx,s=n&1<<a[1].idx;return(!i||!s)&&(0!==i||0!==s)},V=function(e,n){var t=e.map((function(e,n){return Object(x.a)({idx:n},e)})),r=t.filter((function(e){if("Top"===e.position)return!0})),c=t.filter((function(e){if("Junggle"===e.position)return!0})),o=t.filter((function(e){if("Mid"===e.position)return!0})),a=t.filter((function(e){if("ADC"===e.position)return!0})),i=t.filter((function(e){if("Support"===e.position)return!0}));return!(r.length>=2&&!G(r,n))&&(!(c.length>=2&&!G(c,n))&&(!(o.length>=2&&!G(o,n))&&(!(a.length>=2&&!G(a,n))&&!(i.length>=2&&!G(i,n)))))},_=function(e,n,t,r){var c=(1<<e)-1-n;return((n&t)!==t||(c&r)!==r)&&((c&t)!==t||(n&r)!==r)},q=y.b.div(o||(o=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n"]))),K=y.b.div(a||(a=Object(m.a)(["\n  position: relative;\n  width: 40%;\n  min-height: 100px;\n  margin: 10px;\n  border: 1px solid red;\n\n"]))),Z=y.b.h4(i||(i=Object(m.a)(["\n  position: absolute;\n  top: -30px;\n\n  ","\n"])),(function(e){var n=e.teamColor;return"red"===n?Object(y.a)(s||(s=Object(m.a)(["\n        background-color: red;\n    "]))):"blue"===n?Object(y.a)(u||(u=Object(m.a)(["\n        background-color: blue;\n      "]))):void 0})),Q=function(e){var n=function(e){for(var n=-1,t=-1,r=e.length,c=0,o=0,a=0;a<r;a++)1===e[a].team?c|=1<<a:2===e[a].team&&(o|=1<<a);console.log("team >>>",c,o);for(var i=0;i<1<<e.length;i++){for(var s=0,u=0,l=0,d=0;d<e.length;d++)1<<d&i?(l+=1,s+=e[d].mmr):u+=e[d].mmr;if(e.length/2===l&&V(e,i)&&!_(r,i,c,o)){var b=s-u;(-1===t||Math.abs(t)>Math.abs(b))&&(console.log(i),t=b,n=i)}}var f=e.filter((function(e,t){return!!(n&1<<t)})),j=e.filter((function(e,t){return!(n&1<<t)}));return t>=0?{redTeam:f,blueTeam:j}:{redTeam:j,blueTeam:f}}(e.userInfoList),t=n.redTeam,r=n.blueTeam;return Object(A.jsxs)(q,{children:[Object(A.jsxs)(K,{children:[Object(A.jsx)(Z,{teamColor:"red",children:"\ub808\ub4dc\ud300"}),t.map((function(e,n){return Object(A.jsx)("p",{children:e.userId},n)}))]}),Object(A.jsxs)(K,{children:[Object(A.jsx)(Z,{teamColor:"blue",children:"\ube14\ub8e8\ud300"}),r.map((function(e,n){return Object(A.jsx)("p",{children:e.userId},n)}))]})]})},W=function(e){if(!function(e){var n=e.filter((function(e){if(1===e.team&&"None"!==e.position)return!0})).map((function(e){return e.position})),t=new Set(n);if(n.length!==t.size)return!1;var r=e.filter((function(e){if(2===e.team&&"None"!==e.position)return!0})).map((function(e){return e.position})),c=new Set(r);return r.length===c.size}(e))throw new Error("overlapPosition");if(!function(e){return!(e.filter((function(e){if(1===e.team)return!0})).length>e.length/2)&&!(e.filter((function(e){if(2===e.team)return!0})).length>e.length/2)}(e))throw new Error("excessPersonnel")},X=t(7),Y=y.b.div(l||(l=Object(m.a)(["\n    margin-top: 10px;\n    display: flex;\n    justify-content: space-around;\n"]))),$=y.b.div(d||(d=Object(m.a)(["\n    width: 250px;\n    padding: 30px;\n    border: 1px solid #BDBDC0;\n    border-radius: 5px\n"]))),ee=function(e){var n=e.userInfoList,t=e.setUserInfoList,r=function(e){var r=e.target.value,c=n.map((function(n){return n.userId===e.target.name?Object(x.a)(Object(x.a)({},n),{},{position:r}):Object(x.a)({},n)}));try{W(c)}catch(o){switch(o.message){case"overlapPosition":alert("\ud55c \ud300\uc5d0 \uc911\ubcf5\ub41c \ub77c\uc778\uc774 \uc788\uc2b5\ub2c8\ub2e4.");break;case"excessPersonnel":alert("\ud55c \ud300\uc5d0 \ub108\ubb34 \ub9ce\uc740 \uc778\uc6d0\uc774 \uc788\uc2b5\ub2c8\ub2e4.");break;default:alert("\uc54c \uc218 \uc5c6\ub294 \uc624\ub958")}}t(c)};return Object(A.jsx)(Y,{children:Object(A.jsxs)(X.a,{onDragEnd:function(e){var r=e.draggableId,c=e.destination,o=c?c.droppableId:"0",a=n.map((function(e){return e.userId===r?Object(x.a)(Object(x.a)({},e),{},{team:parseInt(o)}):Object(x.a)({},e)}));console.log(a),t(a)},children:[Object(A.jsx)(X.c,{droppableId:"0",children:function(e){return Object(A.jsx)($,Object(x.a)(Object(x.a)({},e.droppableProps),{},{ref:e.innerRef,children:n.filter((function(e){return 0===e.team})).map((function(e,n){return Object(A.jsx)(X.b,{index:n,draggableId:e.userId,children:function(n){return Object(A.jsxs)("p",Object(x.a)(Object(x.a)(Object(x.a)({ref:n.innerRef},n.dragHandleProps),n.draggableProps),{},{children:[e.userId,Object(A.jsxs)("select",{value:e.position,name:e.userId,onChange:r,children:[Object(A.jsx)("option",{value:"None",children:"\uc5c6\uc74c"}),Object(A.jsx)("option",{value:"Top",children:"\ud0d1"}),Object(A.jsx)("option",{value:"Junggle",children:"\uc815\uae00"}),Object(A.jsx)("option",{value:"Mid",children:"\ubbf8\ub4dc"}),Object(A.jsx)("option",{value:"ADC",children:"\uc6d0\ub51c"}),Object(A.jsx)("option",{value:"Support",children:"\uc11c\ud3ff"})]})]}))}},e.userId)}))}))}}),Object(A.jsx)(X.c,{droppableId:"1",children:function(e){return Object(A.jsxs)($,Object(x.a)(Object(x.a)({},e.droppableProps),{},{ref:e.innerRef,children:[n.filter((function(e){return 1===e.team})).map((function(e,n){return Object(A.jsx)(X.b,{index:n,draggableId:e.userId,children:function(n){return Object(A.jsxs)("p",Object(x.a)(Object(x.a)(Object(x.a)({ref:n.innerRef},n.dragHandleProps),n.draggableProps),{},{children:[e.userId,Object(A.jsxs)("select",{value:e.position,name:e.userId,onChange:r,children:[Object(A.jsx)("option",{value:"None",children:"\uc5c6\uc74c"}),Object(A.jsx)("option",{value:"Top",children:"\ud0d1"}),Object(A.jsx)("option",{value:"Junggle",children:"\uc815\uae00"}),Object(A.jsx)("option",{value:"Mid",children:"\ubbf8\ub4dc"}),Object(A.jsx)("option",{value:"ADC",children:"\uc6d0\ub51c"}),Object(A.jsx)("option",{value:"Support",children:"\uc11c\ud3ff"})]})]}))}},e.userId)})),e.placeholder]}))}}),Object(A.jsx)(X.c,{droppableId:"2",children:function(e){return Object(A.jsxs)($,Object(x.a)(Object(x.a)({},e.droppableProps),{},{ref:e.innerRef,children:[n.filter((function(e){return 2===e.team})).map((function(e,n){return Object(A.jsx)(X.b,{index:n,draggableId:e.userId,children:function(n){return Object(A.jsxs)("p",Object(x.a)(Object(x.a)(Object(x.a)({ref:n.innerRef},n.dragHandleProps),n.draggableProps),{},{children:[e.userId,Object(A.jsxs)("select",{value:e.position,name:e.userId,onChange:r,children:[Object(A.jsx)("option",{value:"None",children:"\uc5c6\uc74c"}),Object(A.jsx)("option",{value:"Top",children:"\ud0d1"}),Object(A.jsx)("option",{value:"Junggle",children:"\uc815\uae00"}),Object(A.jsx)("option",{value:"Mid",children:"\ubbf8\ub4dc"}),Object(A.jsx)("option",{value:"ADC",children:"\uc6d0\ub51c"}),Object(A.jsx)("option",{value:"Support",children:"\uc11c\ud3ff"})]})]}))}},e.userId)})),e.placeholder]}))}})]})})},ne=y.b.div(b||(b=Object(m.a)(["\n  width: 100%;\n  text-align: center;\n  margin-top: 3rem;\n"]))),te=y.b.button(f||(f=Object(m.a)(["\n  margin-top: 10px;\n  width: 120px;\n  height: 50px;\n  border: 1px solid #BDBDC0;\n  border-radius: 2px;\n  background-color: #BDBDC0;\n  color: #3E3F47;\n\n  &:hover {\n    background-color: #3E3F47;\n    color:  #BDBDC0;\n  }\n"])));var re=function(){var e=p.a.useState([]),n=Object(g.a)(e,2),t=n[0],r=n[1],c=p.a.useState(!1),o=Object(g.a)(c,2),a=o[0],i=o[1];return p.a.useEffect((function(){console.log(t)}),[t]),Object(A.jsx)(ne,{children:!1===a?Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(H,{userInfoList:t,setUserInfoList:r}),Object(A.jsx)(ee,{userInfoList:t,setUserInfoList:r}),Object(A.jsx)(te,{onClick:function(e){t.length%2!==0?alert("\uc778\uc6d0\uc744 \uc9dd\uc218\ub85c \ub9de\ucdb0\uc8fc\uc138\uc694"):i(!0)},children:"\ud300 \ub098\ub204\uae30"})]}):Object(A.jsxs)("div",{children:[Object(A.jsx)(Q,{userInfoList:t}),Object(A.jsx)(te,{onClick:function(e){i(!1)},children:"\uc778\uc6d0 \uc218\uc815"})]})})};t(58);O.a.render(Object(A.jsx)(p.a.StrictMode,{children:Object(A.jsx)(re,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.e7a60e62.chunk.js.map