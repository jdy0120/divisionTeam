(this.webpackJsonpdivisionteam=this.webpackJsonpdivisionteam||[]).push([[0],{17:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),i=n(10),c=n.n(i),o=n(1),s=n(6),u=n(7),l=n(2),f=n.n(l),p=n(4),b="RGAPI-0318b3a5-ce34-4213-8b33-ab0d3dd4e0f3",j=function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/lol/summoner/v4/summoners/by-name/".concat(t,"?api_key=").concat(b));case 2:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n.json());case 7:throw new Error("Not Exist UserID");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/lol/league/v4/entries/by-summoner/".concat(t,"?api_key=").concat(b));case 2:if(!(n=e.sent).ok){e.next=7;break}return e.abrupt("return",n.json());case 7:throw new Error("Not Exist UserInfo");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h={IRON:450,BRONZE:800,SILVER:1150,GOLD:1500,PLATINUM:1850,DIAMOND:2200,MASTER:2250,GRANDMASTER:2250,CHALLENGER:2250},d={IV:0,III:100,II:200,I:300},v=function(e){var t,n,r,a,i;return(t=e.wins,n=e.losses,10*(Math.round(t/(t+n)*100*10)/10-50))+(r=e.rank,a=e.tier,i=e.leaguePoints,h[a]+d[r]+i)},O=n(0),x=function(e){var t=e.match(/([a-z|A-z|0-9|\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3]){1,}(\ub2d8\uc774 \ub85c\ube44\uc5d0 \ucc38\uac00\ud558\uc168\uc2b5\ub2c8\ub2e4.)/g),n=null===t||void 0===t?void 0:t.map((function(e){return e.replace("\ub2d8\uc774 \ub85c\ube44\uc5d0 \ucc38\uac00\ud558\uc168\uc2b5\ub2c8\ub2e4.","")}));return null===t?[e]:void 0!==n?n:[""]},g={tier:"SILVER",rank:"I",wins:1,losses:1,leaguePoints:0},I=Object(o.a)(Object(o.a)({userId:""},g),{},{position:"None",team:0,mmr:v(g)}),k=function(e){return e.map((function(e){if("RANKED_SOLO_5x5"===e.queueType){var t=e.tier,n=e.rank,r=e.wins,a=e.losses,i=e.leaguePoints;return{tier:t,rank:n,wins:r,losses:a,leaguePoints:i,team:0,mmr:v({tier:t,rank:n,wins:r,losses:a,leaguePoints:i})}}})).filter((function(e){if(e)return!0}))[0]},w=function(){var e=Object(p.a)(f.a.mark((function e(t,n){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(x(t).map(function(){var e=Object(p.a)(f.a.mark((function e(t){var r,a,i,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j(t);case 3:return r=e.sent,a=r.id,i=r.name,e.next=8,m(a);case 8:if(c=e.sent,s=Object(o.a)(Object(o.a)(Object(o.a)({},I),k(c)),{},{userId:i}),0!==n.filter((function(e){if(e.userId===i)return!0})).length){e.next=13;break}return e.abrupt("return",Object(o.a)({},s));case 13:e.next=25;break;case 15:e.prev=15,e.t0=e.catch(0),e.t1=e.t0.message,e.next="Not Exist UserID"===e.t1?20:"Not Exist UserInfo"===e.t1?22:24;break;case 20:return alert("".concat(t,"\ub294 \ucc3e\uc744 \uc218 \uc5c6\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4.")),e.abrupt("break",25);case 22:return alert("".concat(t,"\uc758 \ub7ad\ud06c\uc815\ubcf4\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),e.abrupt("break",25);case 24:alert("".concat(e.t0.message," \uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec"));case 25:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.sent,a=r.filter((function(e){if(e)return!0})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),E=function(e){var t=e.userInfoList,n=e.setUserInfoList,r=a.a.useState(""),i=Object(s.a)(r,2),c=i[0],o=i[1],l=function(){var e=Object(p.a)(f.a.mark((function e(r){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(c,t);case 2:a=e.sent,n([].concat(Object(u.a)(a),Object(u.a)(t)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("input",{type:"text",onChange:function(e){o(e.target.value)}}),Object(O.jsx)("button",{onClick:l,children:"\uac80\uc0c9"})]})},y=function(e,t){var n=e.filter((function(e){return 0===e.team})).sort((function(e,t){return t.mmr-e.mmr})),r=e.filter((function(e){if(1===e.team)return!0})).sort((function(e,t){return t.mmr-e.mmr})),a=e.filter((function(e){if(2===e.team)return!0})).sort((function(e,t){return t.mmr-e.mmr})),i=[];if(a[0]&&i.push(a[0]),r[0]&&i.push(r[0]),n[0]&&i.push.apply(i,Object(u.a)(n)),i.length<2)return!0;var c=i.splice(0,2),o=t&1<<c[0].idx,s=t&1<<c[1].idx;return(!o||!s)&&(0!==o||0!==s)},N=function(e,t){var n=e.map((function(e,t){return Object(o.a)({idx:t},e)})),r=n.filter((function(e){if("Top"===e.position)return!0})),a=n.filter((function(e){if("Junggle"===e.position)return!0})),i=n.filter((function(e){if("Mid"===e.position)return!0})),c=n.filter((function(e){if("ADC"===e.position)return!0})),s=n.filter((function(e){if("Support"===e.position)return!0}));return!(r.length>=2&&!y(r,t))&&(!(a.length>=2&&!y(a,t))&&(!(i.length>=2&&!y(i,t))&&(!(c.length>=2&&!y(c,t))&&!(s.length>=2&&!y(s,t)))))},P=function(e){var t=function(e){for(var t=-1,n=-1,r=0,a=0,i=0;i<e.length;i++)1===e[i].team?r|=1<<i:2===e[i].team&&(a|=1<<i);console.log("team >>>",r,a);for(var c=0;c<1<<e.length;c++){for(var o=0,s=0,u=0,l=0;l<e.length;l++)1<<l&c?(u+=1,o+=e[l].mmr):s+=e[l].mmr;if(e.length/2===u&&!(c&r||c&a)&&N(e,c)){var f=o-s;(-1===n||Math.abs(n)>Math.abs(f))&&(console.log(f,c),n=f,t=c)}}var p=e.filter((function(e,n){return!!(t&1<<n)})),b=e.filter((function(e,n){return!(t&1<<n)}));return n>=0?{redTeam:p,blueTeam:b}:{redTeam:b,blueTeam:p}}(e.userInfoList),n=t.redTeam,r=t.blueTeam;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{children:["\ub808\ub4dc\ud300",n.map((function(e,t){return Object(O.jsx)("p",{children:e.userId},t)}))]}),Object(O.jsxs)("div",{children:["\ube14\ub8e8\ud300",r.map((function(e,t){return Object(O.jsx)("p",{children:e.userId},t)}))]})]})},L=function(e){if(!function(e){var t=e.filter((function(e){if(1===e.team&&"None"!==e.position)return!0})).map((function(e){return e.position})),n=new Set(t);if(t.length!==n.size)return!1;var r=e.filter((function(e){if(2===e.team&&"None"!==e.position)return!0})).map((function(e){return e.position})),a=new Set(r);return r.length===a.size}(e))throw new Error("overlapPosition");if(!function(e){return!(e.filter((function(e){if(1===e.team)return!0})).length>e.length/2)&&!(e.filter((function(e){if(2===e.team)return!0})).length>e.length/2)}(e))throw new Error("excessPersonnel")};var S=function(){var e=a.a.useState([]),t=Object(s.a)(e,2),n=t[0],r=t[1],i=a.a.useState(!1),c=Object(s.a)(i,2),u=c[0],l=c[1],f=function(e){var t=e.target.value,a=n.map((function(n){return n.userId===e.target.name?Object(o.a)(Object(o.a)({},n),{},{position:t}):Object(o.a)({},n)}));try{L(a)}catch(i){switch(i.message){case"overlapPosition":alert("\ud55c \ud300\uc5d0 \uc911\ubcf5\ub41c \ub77c\uc778\uc774 \uc788\uc2b5\ub2c8\ub2e4.");break;case"excessPersonnel":alert("\ud55c \ud300\uc5d0 \ub108\ubb34 \ub9ce\uc740 \uc778\uc6d0\uc774 \uc788\uc2b5\ub2c8\ub2e4.");break;default:alert("\uc54c \uc218 \uc5c6\ub294 \uc624\ub958")}}r(a)},p=function(e){var t=parseInt(e.target.value),a=n.map((function(n){return n.userId===e.target.name?Object(o.a)(Object(o.a)({},n),{},{team:t}):Object(o.a)({},n)}));try{L(a)}catch(i){switch(i.message){case"overlapPosition":alert("\ud55c \ud300\uc5d0 \uc911\ubcf5\ub41c \ub77c\uc778\uc774 \uc788\uc2b5\ub2c8\ub2e4.");break;case"excessPersonnel":alert("\ud55c \ud300\uc5d0 \ub108\ubb34 \ub9ce\uc740 \uc778\uc6d0\uc774 \uc788\uc2b5\ub2c8\ub2e4.");break;default:alert("\uc54c \uc218 \uc5c6\ub294 \uc624\ub958")}}r(a)};return a.a.useEffect((function(){console.log(n)}),[n]),Object(O.jsx)(O.Fragment,{children:!1===u?Object(O.jsxs)("div",{children:[Object(O.jsx)(E,{userInfoList:n,setUserInfoList:r}),null===n||void 0===n?void 0:n.map((function(e,t){return Object(O.jsxs)("div",{children:[Object(O.jsx)("p",{children:e.userId}),Object(O.jsxs)("select",{value:e.position,name:e.userId,onChange:f,children:[Object(O.jsx)("option",{value:"None",children:"\uc5c6\uc74c"}),Object(O.jsx)("option",{value:"Top",children:"\ud0d1"}),Object(O.jsx)("option",{value:"Junggle",children:"\uc815\uae00"}),Object(O.jsx)("option",{value:"Mid",children:"\ubbf8\ub4dc"}),Object(O.jsx)("option",{value:"ADC",children:"\uc6d0\ub51c"}),Object(O.jsx)("option",{value:"Support",children:"\uc11c\ud3ff"})]}),Object(O.jsxs)("select",{value:e.team,name:e.userId,onChange:p,children:[Object(O.jsx)("option",{value:"0",children:"\uc0c1\uad00\uc5c6\uc74c"}),Object(O.jsx)("option",{value:"1",children:"1\ud300"}),Object(O.jsx)("option",{value:"2",children:"2\ud300"})]})]},t)})),Object(O.jsx)("button",{onClick:function(e){n.length%2!==0?alert("\uc778\uc6d0\uc744 \uc9dd\uc218\ub85c \ub9de\ucdb0\uc8fc\uc138\uc694"):l(!0)},children:"\ud300 \ub098\ub204\uae30"})]}):Object(O.jsxs)("div",{children:[Object(O.jsx)(P,{userInfoList:n}),Object(O.jsx)("button",{onClick:function(e){l(!1)},children:"\uc778\uc6d0 \uc218\uc815"})]})})};c.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(S,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.a099f3b6.chunk.js.map