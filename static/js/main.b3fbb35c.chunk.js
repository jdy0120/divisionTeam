(this.webpackJsonpdivisionteam=this.webpackJsonpdivisionteam||[]).push([[0],{58:function(e,t,n){"use strict";n.r(t);var r,a,i,c,o,s=n(0),u=n.n(s),l=n(9),f=n.n(l),d=n(2),j=n(13),p=n(6),b=n(14),h=n(4),O=n.n(h),x=n(7),m=n(17),g=n.n(m),v="https://us-central1-seismic-sweep-318403.cloudfunctions.net",I=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(v,"/getUserInfo/fetchUserAccountId?userId=").concat(t));case 2:if(n=e.sent,console.log(n.data),!n){e.next=8;break}return e.abrupt("return",n.data.userAccountId);case 8:throw new Error("Not Exist UserID");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(x.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(v,"/getUserInfo/fetchUserInfo?id=").concat(t));case 2:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",n.data.userInfo);case 7:throw new Error("Not Exist UserInfo");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k={IRON:450,BRONZE:800,SILVER:1150,GOLD:1500,PLATINUM:1850,DIAMOND:2200,MASTER:2250,GRANDMASTER:2250,CHALLENGER:2250},P={IV:0,III:100,II:200,I:300},E=function(e){var t,n,r,a,i;return(t=e.wins,n=e.losses,10*(Math.round(t/(t+n)*100*10)/10-50))+(r=e.rank,a=e.tier,i=e.leaguePoints,k[a]+P[r]+i)},L=n(1),N=function(e){var t=e.match(/([a-z|A-z|0-9|\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3]){1,}(\ub2d8\uc774 \ub85c\ube44\uc5d0 \ucc38\uac00\ud558\uc168\uc2b5\ub2c8\ub2e4.)/g),n=null===t||void 0===t?void 0:t.map((function(e){return e.replace("\ub2d8\uc774 \ub85c\ube44\uc5d0 \ucc38\uac00\ud558\uc168\uc2b5\ub2c8\ub2e4.","")}));return null===t?[e]:void 0!==n?n:[""]},R={tier:"SILVER",rank:"I",wins:1,losses:1,leaguePoints:0},S=Object(d.a)(Object(d.a)({userId:""},R),{},{position:"None",team:0,mmr:E(R)}),A=function(e){return e.map((function(e){if("RANKED_SOLO_5x5"===e.queueType){var t=e.tier,n=e.rank,r=e.wins,a=e.losses,i=e.leaguePoints;return{userId:"",tier:t,rank:n,wins:r,losses:a,leaguePoints:i,team:0,mmr:E({tier:t,rank:n,wins:r,losses:a,leaguePoints:i})}}})).filter((function(e){if(e)return!0}))[0]},T=function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(N(t).map(function(){var e=Object(x.a)(O.a.mark((function e(t){var r,a,i,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(t);case 3:return r=e.sent,a=r.id,i=r.name,e.next=8,w(a);case 8:if(c=e.sent,o=Object(d.a)(Object(d.a)(Object(d.a)({},S),A(c)),{},{userId:i}),0!==n.filter((function(e){if(e.userId===i)return!0})).length){e.next=13;break}return e.abrupt("return",Object(d.a)({},o));case 13:e.next=25;break;case 15:e.prev=15,e.t0=e.catch(0),e.t1=e.t0.message,e.next="Not Exist UserID"===e.t1?20:"Not Exist UserInfo"===e.t1?22:24;break;case 20:return alert("".concat(t,"\ub294 \ucc3e\uc744 \uc218 \uc5c6\ub294 \uc544\uc774\ub514\uc785\ub2c8\ub2e4.")),e.abrupt("break",25);case 22:return alert("".concat(t,"\uc758 \ub7ad\ud06c\uc815\ubcf4\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")),e.abrupt("break",25);case 24:alert("".concat(e.t0.message," \uc54c \uc218 \uc5c6\ub294 \uc5d0\ub7ec"));case 25:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}()));case 2:return r=e.sent,a=r.filter((function(e){if(e)return!0})),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(e){var t=e.userInfoList,n=e.setUserInfoList,r=u.a.useState(""),a=Object(j.a)(r,2),i=a[0],c=a[1],o=function(){var e=Object(x.a)(O.a.mark((function e(r){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(i,t);case 2:a=e.sent,n([].concat(Object(b.a)(a),Object(b.a)(t)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)}}),Object(L.jsx)("button",{onClick:o,children:"\uac80\uc0c9"})]})},U=function(e,t){var n=e.filter((function(e){return 0===e.team})).sort((function(e,t){return t.mmr-e.mmr})),r=e.filter((function(e){if(1===e.team)return!0})).sort((function(e,t){return t.mmr-e.mmr})),a=e.filter((function(e){if(2===e.team)return!0})).sort((function(e,t){return t.mmr-e.mmr})),i=[];if(a[0]&&i.push(a[0]),r[0]&&i.push(r[0]),n[0]&&i.push.apply(i,Object(b.a)(n)),i.length<2)return!0;var c=i.splice(0,2),o=t&1<<c[0].idx,s=t&1<<c[1].idx;return(!o||!s)&&(0!==o||0!==s)},C=function(e,t){var n=e.map((function(e,t){return Object(d.a)({idx:t},e)})),r=n.filter((function(e){if("Top"===e.position)return!0})),a=n.filter((function(e){if("Junggle"===e.position)return!0})),i=n.filter((function(e){if("Mid"===e.position)return!0})),c=n.filter((function(e){if("ADC"===e.position)return!0})),o=n.filter((function(e){if("Support"===e.position)return!0}));return!(r.length>=2&&!U(r,t))&&(!(a.length>=2&&!U(a,t))&&(!(i.length>=2&&!U(i,t))&&(!(c.length>=2&&!U(c,t))&&!(o.length>=2&&!U(o,t)))))},D=function(e,t,n,r){return(t&n)!==n||((1<<e)-1-t&r)!==r},M=function(e){var t=function(e){for(var t=-1,n=-1,r=e.length,a=0,i=0,c=0;c<r;c++)1===e[c].team?a|=1<<c:2===e[c].team&&(i|=1<<c);console.log("team >>>",a,i);for(var o=0;o<1<<e.length;o++){for(var s=0,u=0,l=0,f=0;f<e.length;f++)1<<f&o?(l+=1,s+=e[f].mmr):u+=e[f].mmr;if(e.length/2===l&&C(e,o)&&!D(r,o,a,i)){var d=s-u;(-1===n||Math.abs(n)>Math.abs(d))&&(console.log(o),n=d,t=o)}}var j=e.filter((function(e,n){return!!(t&1<<n)})),p=e.filter((function(e,n){return!(t&1<<n)}));return n>=0?{redTeam:j,blueTeam:p}:{redTeam:p,blueTeam:j}}(e.userInfoList),n=t.redTeam,r=t.blueTeam;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)("div",{children:["\ub808\ub4dc\ud300",n.map((function(e,t){return Object(L.jsx)("p",{children:e.userId},t)}))]}),Object(L.jsxs)("div",{children:["\ube14\ub8e8\ud300",r.map((function(e,t){return Object(L.jsx)("p",{children:e.userId},t)}))]})]})},J=function(e){if(!function(e){var t=e.filter((function(e){if(1===e.team&&"None"!==e.position)return!0})).map((function(e){return e.position})),n=new Set(t);if(t.length!==n.size)return!1;var r=e.filter((function(e){if(2===e.team&&"None"!==e.position)return!0})).map((function(e){return e.position})),a=new Set(r);return r.length===a.size}(e))throw new Error("overlapPosition");if(!function(e){return!(e.filter((function(e){if(1===e.team)return!0})).length>e.length/2)&&!(e.filter((function(e){if(2===e.team)return!0})).length>e.length/2)}(e))throw new Error("excessPersonnel")},z=n(8),H=n(5),F=z.a.div(r||(r=Object(p.a)(["\n    display: flex;\n    justify-content: space-around;\n"]))),G=z.a.div(a||(a=Object(p.a)(["\n    width: 250px;\n    padding: 30px;\n    border: 1px solid blue;\n    border-radius: 5px\n"]))),V=function(e){var t=e.userInfoList,n=e.setUserInfoList,r=function(e){var r=e.target.value,a=t.map((function(t){return t.userId===e.target.name?Object(d.a)(Object(d.a)({},t),{},{position:r}):Object(d.a)({},t)}));try{J(a)}catch(i){switch(i.message){case"overlapPosition":alert("\ud55c \ud300\uc5d0 \uc911\ubcf5\ub41c \ub77c\uc778\uc774 \uc788\uc2b5\ub2c8\ub2e4.");break;case"excessPersonnel":alert("\ud55c \ud300\uc5d0 \ub108\ubb34 \ub9ce\uc740 \uc778\uc6d0\uc774 \uc788\uc2b5\ub2c8\ub2e4.");break;default:alert("\uc54c \uc218 \uc5c6\ub294 \uc624\ub958")}}n(a)};return Object(L.jsx)(F,{children:Object(L.jsxs)(H.a,{onDragEnd:function(e){var r=e.draggableId,a=e.destination,i=a?a.droppableId:"0",c=t.map((function(e){return e.userId===r?Object(d.a)(Object(d.a)({},e),{},{team:parseInt(i)}):Object(d.a)({},e)}));console.log(c),n(c)},children:[Object(L.jsx)(H.c,{droppableId:"0",children:function(e){return Object(L.jsx)(G,Object(d.a)(Object(d.a)({},e.droppableProps),{},{ref:e.innerRef,children:t.filter((function(e){return 0===e.team})).map((function(e,t){return Object(L.jsx)(H.b,{index:t,draggableId:e.userId,children:function(t){return Object(L.jsxs)("p",Object(d.a)(Object(d.a)(Object(d.a)({ref:t.innerRef},t.dragHandleProps),t.draggableProps),{},{children:[e.userId,Object(L.jsxs)("select",{value:e.position,name:e.userId,onChange:r,children:[Object(L.jsx)("option",{value:"None",children:"\uc5c6\uc74c"}),Object(L.jsx)("option",{value:"Top",children:"\ud0d1"}),Object(L.jsx)("option",{value:"Junggle",children:"\uc815\uae00"}),Object(L.jsx)("option",{value:"Mid",children:"\ubbf8\ub4dc"}),Object(L.jsx)("option",{value:"ADC",children:"\uc6d0\ub51c"}),Object(L.jsx)("option",{value:"Support",children:"\uc11c\ud3ff"})]})]}))}},e.userId)}))}))}}),Object(L.jsx)(H.c,{droppableId:"1",children:function(e){return Object(L.jsxs)(G,Object(d.a)(Object(d.a)({},e.droppableProps),{},{ref:e.innerRef,children:[t.filter((function(e){return 1===e.team})).map((function(e,t){return Object(L.jsx)(H.b,{index:t,draggableId:e.userId,children:function(t){return Object(L.jsxs)("p",Object(d.a)(Object(d.a)(Object(d.a)({ref:t.innerRef},t.dragHandleProps),t.draggableProps),{},{children:[e.userId,Object(L.jsxs)("select",{value:e.position,name:e.userId,onChange:r,children:[Object(L.jsx)("option",{value:"None",children:"\uc5c6\uc74c"}),Object(L.jsx)("option",{value:"Top",children:"\ud0d1"}),Object(L.jsx)("option",{value:"Junggle",children:"\uc815\uae00"}),Object(L.jsx)("option",{value:"Mid",children:"\ubbf8\ub4dc"}),Object(L.jsx)("option",{value:"ADC",children:"\uc6d0\ub51c"}),Object(L.jsx)("option",{value:"Support",children:"\uc11c\ud3ff"})]})]}))}},e.userId)})),e.placeholder]}))}}),Object(L.jsx)(H.c,{droppableId:"2",children:function(e){return Object(L.jsxs)(G,Object(d.a)(Object(d.a)({},e.droppableProps),{},{ref:e.innerRef,children:[t.filter((function(e){return 2===e.team})).map((function(e,t){return Object(L.jsx)(H.b,{index:t,draggableId:e.userId,children:function(t){return Object(L.jsxs)("p",Object(d.a)(Object(d.a)(Object(d.a)({ref:t.innerRef},t.dragHandleProps),t.draggableProps),{},{children:[e.userId,Object(L.jsxs)("select",{value:e.position,name:e.userId,onChange:r,children:[Object(L.jsx)("option",{value:"None",children:"\uc5c6\uc74c"}),Object(L.jsx)("option",{value:"Top",children:"\ud0d1"}),Object(L.jsx)("option",{value:"Junggle",children:"\uc815\uae00"}),Object(L.jsx)("option",{value:"Mid",children:"\ubbf8\ub4dc"}),Object(L.jsx)("option",{value:"ADC",children:"\uc6d0\ub51c"}),Object(L.jsx)("option",{value:"Support",children:"\uc11c\ud3ff"})]})]}))}},e.userId)})),e.placeholder]}))}})]})})},B=z.a.div(i||(i=Object(p.a)(["\n  width: 100%;\n  border: 1px solid red;\n  text-align: center;\n"])));z.a.div(c||(c=Object(p.a)(["\n  \n"]))),z.a.p(o||(o=Object(p.a)(["\n  display: inline;\n  \n"])));var _=function(){var e=u.a.useState([]),t=Object(j.a)(e,2),n=t[0],r=t[1],a=u.a.useState(!1),i=Object(j.a)(a,2),c=i[0],o=i[1];return u.a.useEffect((function(){console.log(n)}),[n]),Object(L.jsx)(B,{children:!1===c?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(y,{userInfoList:n,setUserInfoList:r}),Object(L.jsx)(V,{userInfoList:n,setUserInfoList:r}),Object(L.jsx)("button",{onClick:function(e){n.length%2!==0?alert("\uc778\uc6d0\uc744 \uc9dd\uc218\ub85c \ub9de\ucdb0\uc8fc\uc138\uc694"):o(!0)},children:"\ud300 \ub098\ub204\uae30"})]}):Object(L.jsxs)("div",{children:[Object(L.jsx)(M,{userInfoList:n}),Object(L.jsx)("button",{onClick:function(e){o(!1)},children:"\uc778\uc6d0 \uc218\uc815"})]})})};f.a.render(Object(L.jsx)(u.a.StrictMode,{children:Object(L.jsx)(_,{})}),document.getElementById("root"))}},[[58,1,2]]]);
//# sourceMappingURL=main.b3fbb35c.chunk.js.map